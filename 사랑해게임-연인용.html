<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’• ì‚¬ë‘í•´ ê²Œì„ ğŸ’•</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 800px;
            width: 100%;
        }

        .title {
            font-size: 2.5rem;
            color: #e91e63;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
        }

        .game-mode-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .mode-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.2s;
            font-weight: bold;
        }

        .mode-btn:hover {
            transform: scale(1.05);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #e91e63 0%, #f06292 100%);
        }

        .game-area {
            display: none;
        }

        .game-area.active {
            display: block;
        }

        .choices {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .choice-btn {
            background: white;
            border: 3px solid #667eea;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 100px;
            font-weight: bold;
        }

        .choice-btn:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .choice-btn:disabled {
            background: #ccc;
            border-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-area {
            margin: 30px 0;
            font-size: 1.3rem;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .love-message {
            font-size: 2.5rem;
            color: #e91e63;
            font-weight: bold;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .reset-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
        }

        .reset-btn:hover {
            transform: scale(1.05);
        }

        .reset-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .flip-card {
            width: 60px;
            height: 90px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            margin: 5px;
        }

        .flip-card.flipped {
            transform: rotateY(180deg);
        }

        .flip-card.selected {
            border: 3px solid #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }

        .flip-card-back {
            background: linear-gradient(135deg, #e91e63 0%, #f06292 100%);
            transform: rotateY(180deg);
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .score-card {
            text-align: center;
            padding: 15px;
            color: white;
            border-radius: 15px;
            min-width: 150px;
        }

        .player1-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .player2-score {
            background: linear-gradient(135deg, #e91e63 0%, #f06292 100%);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="title">ğŸ’• ì‚¬ë‘í•´ ê²Œì„ ğŸ’•</div>
        <div class="subtitle">ì—°ì¸ë¼ë¦¬ 5ì ì„ ë¨¼ì € ë‹¬ì„±í•´ì„œ "ì‚¬ë‘í•´"ë¥¼ ë“¤ì–´ë³´ì„¸ìš”!</div>
        
        <!-- ê²Œì„ ëª¨ë“œ ì„ íƒ -->
        <div class="game-mode-buttons">
            <button class="mode-btn" onclick="selectMode('rps')">ğŸ® ê°€ìœ„ë°”ìœ„ë³´</button>
            <button class="mode-btn" onclick="selectMode('dice')">ğŸ² ì£¼ì‚¬ìœ„ ê²Œì„</button>
            <button class="mode-btn" onclick="selectMode('card')">ğŸƒ ì¹´ë“œ ê²Œì„</button>
        </div>
        
        <!-- ì˜¤í”ˆ ë°©ì‹ ì„ íƒ -->
        <div style="text-align: center; margin: 15px 0; padding: 15px; background: #fff3cd; border-radius: 10px; border-left: 4px solid #ffc107;">
            <div style="font-weight: bold; color: #856404; margin-bottom: 15px;">ğŸ­ ì˜¤í”ˆ ë°©ì‹ ì„ íƒ</div>
            <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                    <input type="radio" name="openMode" value="simultaneous" checked onchange="setOpenMode('simultaneous')">
                    <span style="font-weight: bold;">1ë²ˆ: ë™ì‹œ ì˜¤í”ˆ</span>
                    <span style="color: #666; font-size: 0.9rem;">(ë‘˜ ë‹¤ ì„ íƒ í›„ ë™ì‹œì— ë’¤ì§‘ê¸°)</span>
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                    <input type="radio" name="openMode" value="sequential" onchange="setOpenMode('sequential')">
                    <span style="font-weight: bold;">2ë²ˆ: ìˆœì°¨ ì˜¤í”ˆ</span>
                    <span style="color: #666; font-size: 0.9rem;">(ìŠ¹ì ë¨¼ì €, íŒ¨ì ë‚˜ì¤‘ì— ì˜¤í”ˆ)</span>
                </label>
            </div>
        </div>
        
        <!-- ì†Œë¦¬ ì¡°ì ˆ -->
        <div style="text-align: center; margin: 15px 0; padding: 10px; background: #e3f2fd; border-radius: 10px;">
            <div style="font-weight: bold; color: #1976d2; margin-bottom: 10px;">ğŸ”Š ìŒì„± ì„¤ì •</div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 15px; flex-wrap: wrap;">
                <label style="display: flex; align-items: center; gap: 5px;">
                    <input type="checkbox" id="soundToggle" checked onchange="toggleSound()">
                    <span>ìŒì„± ì•ˆë‚´ ì¼œê¸°</span>
                </label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span>ì†ë„:</span>
                    <input type="range" id="speedSlider" min="0.5" max="1.5" step="0.1" value="0.8" onchange="updateSpeechSettings()" style="width: 100px;">
                    <span id="speedValue">0.8</span>
                </div>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span>ìŒë†’ì´:</span>
                    <input type="range" id="pitchSlider" min="0.5" max="2" step="0.1" value="1.1" onchange="updateSpeechSettings()" style="width: 100px;">
                    <span id="pitchValue">1.1</span>
                </div>
            </div>
        </div>

        <!-- ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ -->
        <div id="rps-game" class="game-area">
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.3rem; font-weight: bold; color: #e91e63; margin-bottom: 15px;">
                    ğŸ® ê°€ìœ„ë°”ìœ„ë³´ ëŒ€ê²°
                </div>
                <div style="color: #666; margin-bottom: 20px;">
                    6ì¥ì˜ ì¹´ë“œ ì¤‘ í•˜ë‚˜ì”© ì„ íƒí•´ì„œ ê°€ìœ„ë°”ìœ„ë³´! 5ì ì„ ë¨¼ì € ë‹¬ì„±í•˜ì„¸ìš”!
                </div>
            </div>

            <div class="score-board">
                <div class="score-card player1-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 1</div>
                    <div style="font-size: 1.5rem;" id="rps-player1-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
                <div class="score-card player2-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 2</div>
                    <div style="font-size: 1.5rem;" id="rps-player2-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
            </div>

            <!-- 6ì¥ì˜ ê°€ìœ„ë°”ìœ„ë³´ ì¹´ë“œ -->
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.1rem; font-weight: bold; color: #333; margin-bottom: 20px;">
                    6ì¥ì˜ ì¹´ë“œ ì¤‘ì—ì„œ ê°ì í•˜ë‚˜ì”© ì„ íƒí•˜ì„¸ìš”
                </div>
                
                <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap;">
                    <div class="flip-card" onclick="selectRPSCard(0)" id="rps-card-0">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                    <div class="flip-card" onclick="selectRPSCard(1)" id="rps-card-1">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                    <div class="flip-card" onclick="selectRPSCard(2)" id="rps-card-2">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                    <div class="flip-card" onclick="selectRPSCard(3)" id="rps-card-3">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                    <div class="flip-card" onclick="selectRPSCard(4)" id="rps-card-4">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                    <div class="flip-card" onclick="selectRPSCard(5)" id="rps-card-5">
                        <div class="flip-card-front">ğŸ´</div>
                        <div class="flip-card-back">?</div>
                    </div>
                </div>

                <!-- ì„ íƒ ìƒíƒœ í‘œì‹œ -->
                <div style="display: flex; justify-content: center; gap: 40px; margin: 20px 0;">
                    <div style="color: #667eea; font-weight: bold;" id="rps-player1-status">í”Œë ˆì´ì–´ 1: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
                    <div style="color: #e91e63; font-weight: bold;" id="rps-player2-status">í”Œë ˆì´ì–´ 2: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
                </div>
                
                <!-- í˜„ì¬ ì°¨ë¡€ ì•ˆë‚´ -->
                <div style="text-align: center; margin: 15px 0; padding: 10px; background: #fff3cd; border-radius: 8px;">
                    <div style="font-weight: bold; color: #856404;" id="rps-turn-indicator">í”Œë ˆì´ì–´ 1ë¶€í„° ì„ íƒí•´ì£¼ì„¸ìš”!</div>
                </div>
            </div>

            <!-- ë™ì‹œì— ë’¤ì§‘ê¸° ë²„íŠ¼ -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="reset-btn" onclick="revealRPSCards()" id="rps-reveal-btn" style="font-size: 1.3rem; padding: 15px 30px;" disabled>
                    ğŸ­ ë™ì‹œì— ë’¤ì§‘ê¸°!
                </button>
            </div>

            <div class="result-area" id="rps-result"></div>
            <button class="reset-btn" onclick="resetRPS()">ê²Œì„ ë¦¬ì…‹</button>
        </div>

        <!-- ì£¼ì‚¬ìœ„ ê²Œì„ -->
        <div id="dice-game" class="game-area">
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.3rem; font-weight: bold; color: #e91e63; margin-bottom: 15px;">
                    ğŸ² ì£¼ì‚¬ìœ„ ëŒ€ê²°
                </div>
                <div style="color: #666; margin-bottom: 20px;">
                    ê°ì ì£¼ì‚¬ìœ„ë¥¼ ë˜ì ¸ì„œ ë” ë†’ì€ ìˆ«ìê°€ ë‚˜ì˜¤ë©´ ìŠ¹ë¦¬! 5ì ì„ ë¨¼ì € ë‹¬ì„±í•˜ì„¸ìš”!
                </div>
            </div>

            <div class="score-board">
                <div class="score-card player1-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 1</div>
                    <div style="font-size: 1.5rem;" id="dice-player1-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
                <div class="score-card player2-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 2</div>
                    <div style="font-size: 1.5rem;" id="dice-player2-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
            </div>

            <!-- ì£¼ì‚¬ìœ„ ì˜ì—­ -->
            <div style="display: flex; justify-content: center; gap: 50px; margin: 30px 0; flex-wrap: wrap;">
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #667eea; margin-bottom: 10px;">í”Œë ˆì´ì–´ 1</div>
                    <div id="player1-dice" style="font-size: 4rem; margin: 20px 0; min-height: 80px;">ğŸ²</div>
                    <div id="player1-dice-number" style="font-size: 1.2rem; font-weight: bold;">?</div>
                    <button class="choice-btn" onclick="rollPlayer1Dice()" id="player1-dice-btn" style="font-size: 1rem; padding: 10px 20px; margin-top: 10px;">
                        ğŸ² ë˜ì§€ê¸°
                    </button>
                </div>
                <div style="display: flex; align-items: center; font-size: 2rem; font-weight: bold; color: #666;">
                    VS
                </div>
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e91e63; margin-bottom: 10px;">í”Œë ˆì´ì–´ 2</div>
                    <div id="player2-dice" style="font-size: 4rem; margin: 20px 0; min-height: 80px;">ğŸ²</div>
                    <div id="player2-dice-number" style="font-size: 1.2rem; font-weight: bold;">?</div>
                    <button class="choice-btn" onclick="rollPlayer2Dice()" id="player2-dice-btn" style="font-size: 1rem; padding: 10px 20px; margin-top: 10px;">
                        ğŸ² ë˜ì§€ê¸°
                    </button>
                </div>
            </div>

            <!-- ê²°ê³¼ í™•ì¸ ë²„íŠ¼ -->
            <div style="text-align: center; margin: 20px 0;">
                <button class="reset-btn" onclick="compareDice()" id="dice-compare-btn" style="font-size: 1.3rem; padding: 15px 30px;" disabled>
                    âš”ï¸ ê²°ê³¼ í™•ì¸!
                </button>
            </div>
            <div class="result-area" id="dice-result"></div>
            <button class="reset-btn" onclick="resetDice()">ê²Œì„ ë¦¬ì…‹</button>
        </div>

        <!-- ì¹´ë“œ ê²Œì„ -->
        <div id="card-game" class="game-area">
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.3rem; font-weight: bold; color: #e91e63; margin-bottom: 15px;">
                    ğŸƒ ì¹´ë“œ ëŒ€ê²°
                </div>
                <div style="color: #666; margin-bottom: 20px;">
                    13ì¥ì˜ ì¹´ë“œ ì¤‘ì—ì„œ ê°ì í•˜ë‚˜ì”© ì„ íƒ! ë” ë†’ì€ ì¹´ë“œê°€ ìŠ¹ë¦¬! 5ì ì„ ë¨¼ì € ë‹¬ì„±í•˜ì„¸ìš”!
                </div>
            </div>

            <div class="score-board">
                <div class="score-card player1-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 1</div>
                    <div style="font-size: 1.5rem;" id="card-player1-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
                <div class="score-card player2-score">
                    <div style="font-weight: bold; margin-bottom: 5px;">í”Œë ˆì´ì–´ 2</div>
                    <div style="font-size: 1.5rem;" id="card-player2-score">0</div>
                    <div style="font-size: 0.9rem;">ì ìˆ˜</div>
                </div>
            </div>

            <!-- 13ì¥ì˜ ì¹´ë“œ -->
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 1.1rem; font-weight: bold; color: #333; margin-bottom: 20px;">
                    13ì¥ì˜ ì¹´ë“œ ì¤‘ì—ì„œ ê°ì í•˜ë‚˜ì”© ì„ íƒí•˜ì„¸ìš” (A=1, J=11, Q=12, K=13)
                </div>
                
                <div style="display: flex; justify-content: center; gap: 8px; margin: 20px 0; flex-wrap: wrap;">
                    <div class="flip-card" onclick="selectCard(0)" id="card-0">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">A</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(1)" id="card-1">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">2</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(2)" id="card-2">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">3</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(3)" id="card-3">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">4</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(4)" id="card-4">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">5</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(5)" id="card-5">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">6</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(6)" id="card-6">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">7</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(7)" id="card-7">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">8</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(8)" id="card-8">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">9</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(9)" id="card-9">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">10</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(10)" id="card-10">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">J</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(11)" id="card-11">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">Q</div>
                    </div>
                    <div class="flip-card" onclick="selectCard(12)" id="card-12">
                        <div class="flip-card-front">ğŸƒ</div>
                        <div class="flip-card-back">K</div>
                    </div>
                </div>

                <!-- ì„ íƒ ìƒíƒœ í‘œì‹œ -->
                <div style="display: flex; justify-content: center; gap: 40px; margin: 20px 0;">
                    <div style="color: #667eea; font-weight: bold;" id="card-player1-status">í”Œë ˆì´ì–´ 1: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
                    <div style="color: #e91e63; font-weight: bold;" id="card-player2-status">í”Œë ˆì´ì–´ 2: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
                </div>
                
                <!-- í˜„ì¬ ì°¨ë¡€ ì•ˆë‚´ -->
                <div style="text-align: center; margin: 15px 0; padding: 10px; background: #fff3cd; border-radius: 8px;">
                    <div style="font-weight: bold; color: #856404;" id="card-turn-indicator">í”Œë ˆì´ì–´ 1ë¶€í„° ì„ íƒí•´ì£¼ì„¸ìš”!</div>
                </div>
            </div>

            <!-- ë™ì‹œì— ë’¤ì§‘ê¸° ë²„íŠ¼ -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="reset-btn" onclick="revealCards()" id="card-reveal-btn" style="font-size: 1.3rem; padding: 15px 30px;" disabled>
                    ğŸ­ ë™ì‹œì— ë’¤ì§‘ê¸°!
                </button>
            </div>
            <div class="result-area" id="card-result"></div>
            <button class="reset-btn" onclick="resetCard()">ê²Œì„ ë¦¬ì…‹</button>
        </div>
    </div>

    <script>
        // ê²Œì„ ë³€ìˆ˜ë“¤
        let rpsPlayer1Score = 0;
        let rpsPlayer2Score = 0;
        let dicePlayer1Score = 0;
        let dicePlayer2Score = 0;
        let cardPlayer1Score = 0;
        let cardPlayer2Score = 0;
        let targetScore = 5;
        let openMode = 'simultaneous'; // 'simultaneous' ë˜ëŠ” 'sequential'
        let lastWinner = null; // ë§ˆì§€ë§‰ ìŠ¹ì (ìˆœì°¨ ì˜¤í”ˆì—ì„œ ì‚¬ìš©)
        
        // ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ ë³€ìˆ˜ë“¤
        let rpsPlayer1Selected = null;
        let rpsPlayer2Selected = null;
        let rpsCards = [];
        let rpsRevealed = false;
        
        // ì£¼ì‚¬ìœ„ ê²Œì„ ë³€ìˆ˜ë“¤
        let player1DiceRoll = null;
        let player2DiceRoll = null;
        
        // ì¹´ë“œ ê²Œì„ ë³€ìˆ˜ë“¤
        let cardPlayer1Selected = null;
        let cardPlayer2Selected = null;
        let cardRevealed = false;
        let cardValues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
        
        // ìŒì„± ì„¤ì • ë³€ìˆ˜ë“¤
        let soundEnabled = true;
        let speechRate = 0.8;
        let speechPitch = 1.1;

        // ìŒì„± í•©ì„±ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ì†Œë¦¬ë‚´ì–´ ì½ê¸°
        function speakText(text) {
            if (soundEnabled && 'speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ko-KR';
                utterance.rate = speechRate;
                utterance.pitch = speechPitch;
                speechSynthesis.speak(utterance);
            }
        }
        
        // ìŒì„± ì„¤ì • í•¨ìˆ˜ë“¤
        function toggleSound() {
            soundEnabled = document.getElementById('soundToggle').checked;
            if (!soundEnabled) {
                speechSynthesis.cancel();
            }
        }
        
        function updateSpeechSettings() {
            speechRate = parseFloat(document.getElementById('speedSlider').value);
            speechPitch = parseFloat(document.getElementById('pitchSlider').value);
            document.getElementById('speedValue').textContent = speechRate;
            document.getElementById('pitchValue').textContent = speechPitch;
        }

        // ì˜¤í”ˆ ëª¨ë“œ ì„¤ì •
        function setOpenMode(mode) {
            openMode = mode;
            console.log('ì˜¤í”ˆ ëª¨ë“œ ë³€ê²½:', mode);
        }

        // ê²Œì„ ëª¨ë“œ ì„ íƒ
        function selectMode(mode) {
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.game-area').forEach(area => area.classList.remove('active'));
            document.getElementById(mode + '-game').classList.add('active');
            
            if (mode === 'rps') {
                startRPSGame();
            } else if (mode === 'dice') {
                resetDice();
            } else if (mode === 'card') {
                resetCard();
            }
        }

        // ìŠ¹ë¦¬ ì²´í¬ í•¨ìˆ˜
        function checkWin(player1Score, player2Score, gameType) {
            if (player1Score >= targetScore) {
                document.getElementById(gameType + '-result').innerHTML = `
                    <div class="love-message">
                        ğŸ‰ í”Œë ˆì´ì–´ 1 ìŠ¹ë¦¬! ğŸ‰<br>
                        <div style="font-size: 1.5rem; margin-top: 15px; color: #ff6b6b;">
                            ğŸ’• í”Œë ˆì´ì–´ 2ê°€ ì§ì ‘ ë§í•´ì£¼ì„¸ìš”: "ì‚¬ë‘í•´!" ğŸ’•
                        </div>
                    </div>
                `;
                speakText('í”Œë ˆì´ì–´ 1 ìŠ¹ë¦¬! í”Œë ˆì´ì–´ 2ê°€ ì‚¬ë‘í•´ë¼ê³  ë§í•´ì£¼ì„¸ìš”!');
                return true;
            } else if (player2Score >= targetScore) {
                document.getElementById(gameType + '-result').innerHTML = `
                    <div class="love-message">
                        ğŸ‰ í”Œë ˆì´ì–´ 2 ìŠ¹ë¦¬! ğŸ‰<br>
                        <div style="font-size: 1.5rem; margin-top: 15px; color: #ff6b6b;">
                            ğŸ’• í”Œë ˆì´ì–´ 1ì´ ì§ì ‘ ë§í•´ì£¼ì„¸ìš”: "ì‚¬ë‘í•´!" ğŸ’•
                        </div>
                    </div>
                `;
                speakText('í”Œë ˆì´ì–´ 2 ìŠ¹ë¦¬! í”Œë ˆì´ì–´ 1ì´ ì‚¬ë‘í•´ë¼ê³  ë§í•´ì£¼ì„¸ìš”!');
                return true;
            }
            return false;
        }

        // ========== ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ ==========
        function startRPSGame() {
            // 6ì¥ì˜ ê°€ìœ„ë°”ìœ„ë³´ ì¹´ë“œ ìƒì„± (ê°€ìœ„, ë°”ìœ„, ë³´ ê°ê° 2ì¥ì”©)
            const rpsOptions = [
                { emoji: 'âœŠ', name: 'ë°”ìœ„', type: 'rock' },
                { emoji: 'âœŠ', name: 'ë°”ìœ„', type: 'rock' },
                { emoji: 'âœ‹', name: 'ë³´', type: 'paper' },
                { emoji: 'âœ‹', name: 'ë³´', type: 'paper' },
                { emoji: 'âœŒï¸', name: 'ê°€ìœ„', type: 'scissors' },
                { emoji: 'âœŒï¸', name: 'ê°€ìœ„', type: 'scissors' }
            ];
            
            // ì¹´ë“œ ì„ê¸°
            rpsCards = rpsOptions.sort(() => Math.random() - 0.5);
            
            // ì¹´ë“œì— ë‚´ìš© ì„¤ì • (ë³´ì´ì§€ ì•Šê²Œ)
            for (let i = 0; i < 6; i++) {
                document.getElementById(`rps-card-${i}`).querySelector('.flip-card-back').textContent = rpsCards[i].emoji;
            }
            
            resetRPSSelection();
        }

        function selectRPSCard(cardIndex) {
            if (rpsRevealed) return;
            
            // ì´ë¯¸ ì„ íƒëœ ì¹´ë“œì¸ì§€ í™•ì¸
            if (rpsPlayer1Selected === cardIndex || rpsPlayer2Selected === cardIndex) {
                return;
            }
            
            // ìˆœì°¨ ì˜¤í”ˆ ëª¨ë“œì—ì„œëŠ” ìŠ¹ìê°€ ë¨¼ì € ì„ íƒ
            if (openMode === 'sequential' && lastWinner) {
                if (lastWinner === 'player1' && rpsPlayer1Selected === null) {
                    // ìŠ¹ìì¸ í”Œë ˆì´ì–´ 1ì´ ë¨¼ì € ì„ íƒ
                    rpsPlayer1Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #667eea';
                    document.getElementById('rps-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì„ íƒ ì™„ë£Œ!';
                    document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
                    document.getElementById('rps-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 2ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!';
                } else if (lastWinner === 'player2' && rpsPlayer2Selected === null) {
                    // ìŠ¹ìì¸ í”Œë ˆì´ì–´ 2ê°€ ë¨¼ì € ì„ íƒ
                    rpsPlayer2Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #e91e63';
                    document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì„ íƒ ì™„ë£Œ!';
                    document.getElementById('rps-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
                    document.getElementById('rps-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 1ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!';
                } else if (rpsPlayer1Selected !== null && rpsPlayer2Selected === null) {
                    // í”Œë ˆì´ì–´ 2 ì°¨ë¡€
                    rpsPlayer2Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #e91e63';
                    document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì„ íƒ ì™„ë£Œ!';
                    prepareSequentialReveal('rps');
                } else if (rpsPlayer2Selected !== null && rpsPlayer1Selected === null) {
                    // í”Œë ˆì´ì–´ 1 ì°¨ë¡€
                    rpsPlayer1Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #667eea';
                    document.getElementById('rps-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì„ íƒ ì™„ë£Œ!';
                    prepareSequentialReveal('rps');
                }
            } else {
                // ê¸°ë³¸ ëª¨ë“œ ë˜ëŠ” ì²« ë¼ìš´ë“œ
                if (rpsPlayer1Selected === null) {
                    // í”Œë ˆì´ì–´ 1 ì°¨ë¡€
                    rpsPlayer1Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #667eea';
                    document.getElementById('rps-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì„ íƒ ì™„ë£Œ!';
                    document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
                    document.getElementById('rps-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 2ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!';
                } else if (rpsPlayer2Selected === null) {
                    // í”Œë ˆì´ì–´ 2 ì°¨ë¡€
                    rpsPlayer2Selected = cardIndex;
                    document.getElementById(`rps-card-${cardIndex}`).classList.add('selected');
                    document.getElementById(`rps-card-${cardIndex}`).style.border = '3px solid #e91e63';
                    document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì„ íƒ ì™„ë£Œ!';
                    
                    if (openMode === 'simultaneous') {
                        document.getElementById('rps-turn-indicator').textContent = 'ëª¨ë“  ì„ íƒ ì™„ë£Œ! ë’¤ì§‘ì–´ì£¼ì„¸ìš”!';
                        document.getElementById('rps-reveal-btn').disabled = false;
                    } else {
                        prepareSequentialReveal('rps');
                    }
                }
            }
        }

        // ìˆœì°¨ ì˜¤í”ˆ ì¤€ë¹„
        function prepareSequentialReveal(gameType) {
            if (gameType === 'rps') {
                document.getElementById('rps-turn-indicator').innerHTML = `
                    <div style="color: #e91e63; font-weight: bold;">âš¡ ê¸´ì¥ì˜ ìˆœê°„! âš¡</div>
                    <div style="font-size: 0.9rem; margin-top: 5px;">ìŠ¹ìê°€ ë¨¼ì € ì˜¤í”ˆí•˜ê³ , íŒ¨ìê°€ ë‚˜ì¤‘ì— ì˜¤í”ˆí•©ë‹ˆë‹¤!</div>
                `;
                document.getElementById('rps-reveal-btn').textContent = 'ğŸ”¥ ìŠ¹ì ë¨¼ì € ì˜¤í”ˆ!';
                document.getElementById('rps-reveal-btn').disabled = false;
            }
        }

        function revealRPSCards() {
            if (rpsPlayer1Selected === null || rpsPlayer2Selected === null) return;
            
            rpsRevealed = true;
            
            // ì„ íƒëœ ì¹´ë“œë“¤ë§Œ ë’¤ì§‘ê¸°
            document.getElementById(`rps-card-${rpsPlayer1Selected}`).classList.add('flipped');
            document.getElementById(`rps-card-${rpsPlayer2Selected}`).classList.add('flipped');
            
            // ê²°ê³¼ ê³„ì‚°
            setTimeout(() => {
                calculateRPSResult();
            }, 600);
        }

        function calculateRPSResult() {
            const player1Card = rpsCards[rpsPlayer1Selected];
            const player2Card = rpsCards[rpsPlayer2Selected];
            
            let result = '';
            let winner = '';
            
            if (player1Card.type === player2Card.type) {
                result = 'ë¬´ìŠ¹ë¶€!';
                winner = 'draw';
            } else if (
                (player1Card.type === 'rock' && player2Card.type === 'scissors') ||
                (player1Card.type === 'paper' && player2Card.type === 'rock') ||
                (player1Card.type === 'scissors' && player2Card.type === 'paper')
            ) {
                result = 'í”Œë ˆì´ì–´ 1 ìŠ¹ë¦¬!';
                winner = 'player1';
                rpsPlayer1Score = Math.min(targetScore, rpsPlayer1Score + 1);
                rpsPlayer2Score = Math.max(0, rpsPlayer2Score - 1);
            } else {
                result = 'í”Œë ˆì´ì–´ 2 ìŠ¹ë¦¬!';
                winner = 'player2';
                rpsPlayer2Score = Math.min(targetScore, rpsPlayer2Score + 1);
                rpsPlayer1Score = Math.max(0, rpsPlayer1Score - 1);
            }
            
            document.getElementById('rps-player1-score').textContent = rpsPlayer1Score;
            document.getElementById('rps-player2-score').textContent = rpsPlayer2Score;
            
            if (!checkWin(rpsPlayer1Score, rpsPlayer2Score, 'rps')) {
                document.getElementById('rps-result').innerHTML = `
                    <div>í”Œë ˆì´ì–´ 1: ${player1Card.emoji} ${player1Card.name} vs í”Œë ˆì´ì–´ 2: ${player2Card.emoji} ${player2Card.name}</div>
                    <div style="margin: 10px 0; font-weight: bold;">${result}</div>
                    <div style="font-size: 1rem; color: #666;">
                        ${winner === 'player1' ? 'í”Œë ˆì´ì–´ 1: +1ì , í”Œë ˆì´ì–´ 2: -1ì ' : 
                          winner === 'player2' ? 'í”Œë ˆì´ì–´ 2: +1ì , í”Œë ˆì´ì–´ 1: -1ì ' : 'ì ìˆ˜ ë³€í™” ì—†ìŒ'}
                    </div>
                `;
                
                // ë‹¤ìŒ ë¼ìš´ë“œ ì¤€ë¹„
                setTimeout(() => {
                    startRPSGame();
                }, 3000);
            }
        }

        function resetRPSSelection() {
            rpsPlayer1Selected = null;
            rpsPlayer2Selected = null;
            rpsRevealed = false;
            
            // ëª¨ë“  ì¹´ë“œ ì´ˆê¸°í™”
            document.querySelectorAll('#rps-game .flip-card').forEach(card => {
                card.classList.remove('flipped', 'selected');
                card.style.border = '';
            });
            
            document.getElementById('rps-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
            document.getElementById('rps-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì°¨ë¡€ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”';
            document.getElementById('rps-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 1ë¶€í„° ì„ íƒí•´ì£¼ì„¸ìš”!';
            
            // ë’¤ì§‘ê¸° ë²„íŠ¼ ë¹„í™œì„±í™”
            document.getElementById('rps-reveal-btn').disabled = true;
        }

        function resetRPS() {
            rpsPlayer1Score = 0;
            rpsPlayer2Score = 0;
            document.getElementById('rps-player1-score').textContent = '0';
            document.getElementById('rps-player2-score').textContent = '0';
            document.getElementById('rps-result').innerHTML = '';
            startRPSGame();
        }

        // ========== ì£¼ì‚¬ìœ„ ê²Œì„ ==========
        function rollPlayer1Dice() {
            player1DiceRoll = Math.floor(Math.random() * 6) + 1;
            const diceEmojis = ['âš€', 'âš', 'âš‚', 'âšƒ', 'âš„', 'âš…'];
            
            document.getElementById('player1-dice').textContent = diceEmojis[player1DiceRoll - 1];
            document.getElementById('player1-dice-number').textContent = player1DiceRoll;
            document.getElementById('player1-dice-btn').disabled = true;
            
            checkDiceReady();
        }

        function rollPlayer2Dice() {
            player2DiceRoll = Math.floor(Math.random() * 6) + 1;
            const diceEmojis = ['âš€', 'âš', 'âš‚', 'âšƒ', 'âš„', 'âš…'];
            
            document.getElementById('player2-dice').textContent = diceEmojis[player2DiceRoll - 1];
            document.getElementById('player2-dice-number').textContent = player2DiceRoll;
            document.getElementById('player2-dice-btn').disabled = true;
            
            checkDiceReady();
        }

        function checkDiceReady() {
            if (player1DiceRoll !== null && player2DiceRoll !== null) {
                document.getElementById('dice-compare-btn').disabled = false;
            }
        }

        function compareDice() {
            let result = '';
            let winner = '';
            
            if (player1DiceRoll === player2DiceRoll) {
                result = 'ë¬´ìŠ¹ë¶€!';
                winner = 'draw';
            } else if (player1DiceRoll > player2DiceRoll) {
                result = 'í”Œë ˆì´ì–´ 1 ìŠ¹ë¦¬!';
                winner = 'player1';
                dicePlayer1Score = Math.min(targetScore, dicePlayer1Score + 1);
                dicePlayer2Score = Math.max(0, dicePlayer2Score - 1);
            } else {
                result = 'í”Œë ˆì´ì–´ 2 ìŠ¹ë¦¬!';
                winner = 'player2';
                dicePlayer2Score = Math.min(targetScore, dicePlayer2Score + 1);
                dicePlayer1Score = Math.max(0, dicePlayer1Score - 1);
            }
            
            document.getElementById('dice-player1-score').textContent = dicePlayer1Score;
            document.getElementById('dice-player2-score').textContent = dicePlayer2Score;
            
            if (!checkWin(dicePlayer1Score, dicePlayer2Score, 'dice')) {
                document.getElementById('dice-result').innerHTML = `
                    <div>í”Œë ˆì´ì–´ 1: ${player1DiceRoll} vs í”Œë ˆì´ì–´ 2: ${player2DiceRoll}</div>
                    <div style="margin: 10px 0; font-weight: bold;">${result}</div>
                    <div style="font-size: 1rem; color: #666;">
                        ${winner === 'player1' ? 'í”Œë ˆì´ì–´ 1: +1ì , í”Œë ˆì´ì–´ 2: -1ì ' : 
                          winner === 'player2' ? 'í”Œë ˆì´ì–´ 2: +1ì , í”Œë ˆì´ì–´ 1: -1ì ' : 'ì ìˆ˜ ë³€í™” ì—†ìŒ'}
                    </div>
                `;
                
                // ë‹¤ìŒ ë¼ìš´ë“œ ì¤€ë¹„
                setTimeout(() => {
                    resetDiceRound();
                }, 3000);
            }
        }

        function resetDiceRound() {
            player1DiceRoll = null;
            player2DiceRoll = null;
            document.getElementById('player1-dice').textContent = 'ğŸ²';
            document.getElementById('player2-dice').textContent = 'ğŸ²';
            document.getElementById('player1-dice-number').textContent = '?';
            document.getElementById('player2-dice-number').textContent = '?';
            document.getElementById('player1-dice-btn').disabled = false;
            document.getElementById('player2-dice-btn').disabled = false;
            document.getElementById('dice-compare-btn').disabled = true;
        }

        function resetDice() {
            dicePlayer1Score = 0;
            dicePlayer2Score = 0;
            document.getElementById('dice-player1-score').textContent = '0';
            document.getElementById('dice-player2-score').textContent = '0';
            document.getElementById('dice-result').innerHTML = '';
            resetDiceRound();
        }

        // ========== ì¹´ë“œ ê²Œì„ ==========
        function selectCard(cardIndex) {
            if (cardRevealed) return;
            
            // ì´ë¯¸ ì„ íƒëœ ì¹´ë“œì¸ì§€ í™•ì¸
            if (cardPlayer1Selected === cardIndex || cardPlayer2Selected === cardIndex) {
                return;
            }
            
            // í”Œë ˆì´ì–´ë³„ ì°¨ë¡€ ê´€ë¦¬
            if (cardPlayer1Selected === null) {
                // í”Œë ˆì´ì–´ 1 ì°¨ë¡€
                cardPlayer1Selected = cardIndex;
                document.getElementById(`card-${cardIndex}`).classList.add('selected');
                document.getElementById(`card-${cardIndex}`).style.border = '3px solid #667eea';
                document.getElementById('card-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì„ íƒ ì™„ë£Œ!';
                document.getElementById('card-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
                document.getElementById('card-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 2ì˜ ì°¨ë¡€ì…ë‹ˆë‹¤!';
            } else if (cardPlayer2Selected === null) {
                // í”Œë ˆì´ì–´ 2 ì°¨ë¡€
                cardPlayer2Selected = cardIndex;
                document.getElementById(`card-${cardIndex}`).classList.add('selected');
                document.getElementById(`card-${cardIndex}`).style.border = '3px solid #e91e63';
                document.getElementById('card-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì„ íƒ ì™„ë£Œ!';
                document.getElementById('card-turn-indicator').textContent = 'ëª¨ë“  ì„ íƒ ì™„ë£Œ! ë’¤ì§‘ì–´ì£¼ì„¸ìš”!';
                
                // ë‘˜ ë‹¤ ì„ íƒí–ˆìœ¼ë©´ ë’¤ì§‘ê¸° ë²„íŠ¼ í™œì„±í™”
                document.getElementById('card-reveal-btn').disabled = false;
            }
        }

        function revealCards() {
            if (cardPlayer1Selected === null || cardPlayer2Selected === null) return;
            
            cardRevealed = true;
            
            // ì„ íƒëœ ì¹´ë“œë“¤ë§Œ ë’¤ì§‘ê¸°
            document.getElementById(`card-${cardPlayer1Selected}`).classList.add('flipped');
            document.getElementById(`card-${cardPlayer2Selected}`).classList.add('flipped');
            
            // ê²°ê³¼ ê³„ì‚°
            setTimeout(() => {
                calculateCardResult();
            }, 600);
        }

        function calculateCardResult() {
            const player1Value = cardValues[cardPlayer1Selected];
            const player2Value = cardValues[cardPlayer2Selected];
            const cardNames = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            
            let result = '';
            let winner = '';
            
            if (player1Value === player2Value) {
                result = 'ë¬´ìŠ¹ë¶€!';
                winner = 'draw';
            } else if (player1Value > player2Value) {
                result = 'í”Œë ˆì´ì–´ 1 ìŠ¹ë¦¬!';
                winner = 'player1';
                cardPlayer1Score = Math.min(targetScore, cardPlayer1Score + 1);
                cardPlayer2Score = Math.max(0, cardPlayer2Score - 1);
            } else {
                result = 'í”Œë ˆì´ì–´ 2 ìŠ¹ë¦¬!';
                winner = 'player2';
                cardPlayer2Score = Math.min(targetScore, cardPlayer2Score + 1);
                cardPlayer1Score = Math.max(0, cardPlayer1Score - 1);
            }
            
            document.getElementById('card-player1-score').textContent = cardPlayer1Score;
            document.getElementById('card-player2-score').textContent = cardPlayer2Score;
            
            if (!checkWin(cardPlayer1Score, cardPlayer2Score, 'card')) {
                document.getElementById('card-result').innerHTML = `
                    <div>í”Œë ˆì´ì–´ 1: ${cardNames[cardPlayer1Selected]} (${player1Value}) vs í”Œë ˆì´ì–´ 2: ${cardNames[cardPlayer2Selected]} (${player2Value})</div>
                    <div style="margin: 10px 0; font-weight: bold;">${result}</div>
                    <div style="font-size: 1rem; color: #666;">
                        ${winner === 'player1' ? 'í”Œë ˆì´ì–´ 1: +1ì , í”Œë ˆì´ì–´ 2: -1ì ' : 
                          winner === 'player2' ? 'í”Œë ˆì´ì–´ 2: +1ì , í”Œë ˆì´ì–´ 1: -1ì ' : 'ì ìˆ˜ ë³€í™” ì—†ìŒ'}
                    </div>
                `;
                
                // ë‹¤ìŒ ë¼ìš´ë“œ ì¤€ë¹„
                setTimeout(() => {
                    resetCardRound();
                }, 3000);
            }
        }

        function resetCardRound() {
            cardPlayer1Selected = null;
            cardPlayer2Selected = null;
            cardRevealed = false;
            
            // ëª¨ë“  ì¹´ë“œ ì´ˆê¸°í™”
            document.querySelectorAll('#card-game .flip-card').forEach(card => {
                card.classList.remove('flipped', 'selected');
                card.style.border = '';
            });
            
            document.getElementById('card-player1-status').textContent = 'í”Œë ˆì´ì–´ 1: ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”';
            document.getElementById('card-player2-status').textContent = 'í”Œë ˆì´ì–´ 2: ì°¨ë¡€ë¥¼ ê¸°ë‹¤ë¦¬ì„¸ìš”';
            document.getElementById('card-turn-indicator').textContent = 'í”Œë ˆì´ì–´ 1ë¶€í„° ì„ íƒí•´ì£¼ì„¸ìš”!';
            
            // ë’¤ì§‘ê¸° ë²„íŠ¼ ë¹„í™œì„±í™”
            document.getElementById('card-reveal-btn').disabled = true;
        }

        function resetCard() {
            cardPlayer1Score = 0;
            cardPlayer2Score = 0;
            document.getElementById('card-player1-score').textContent = '0';
            document.getElementById('card-player2-score').textContent = '0';
            document.getElementById('card-result').innerHTML = '';
            resetCardRound();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ ê²Œì„ ëª¨ë“œ í™œì„±í™”
        window.onload = function() {
            document.querySelector('.mode-btn').click();
        }
    </script>
</body>
</html>
